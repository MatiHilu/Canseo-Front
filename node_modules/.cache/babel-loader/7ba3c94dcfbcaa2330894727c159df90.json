{"remainingRequest":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\ReservasPaseador.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\ReservasPaseador.vue","mtime":1687192692544},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1685918311258},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1685918306294}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlc2VydmFzU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1Jlc2VydmFzU2VydmljZSI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlc2VydmFzUGFzZWFkb3IiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNlcnZhczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFJlc2VydmFzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFJlc2VydmFzOiBmdW5jdGlvbiBmZXRjaFJlc2VydmFzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGlkUGFzZWFkb3IgPSBzdG9yZS5nZXR0ZXJzLmdldENsaWVudElkOwogICAgICBSZXNlcnZhc1NlcnZpY2UuZ2V0UmVzZXJ2YXNCeVBhc2VhZG9ySWQoaWRQYXNlYWRvcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5yZXNlcnZhcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgY2FtYmlhckVzdGFkbzogZnVuY3Rpb24gY2FtYmlhckVzdGFkbyhyZXNlcnZhSWQsIG51ZXZvRXN0YWRvKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgUmVzZXJ2YXNTZXJ2aWNlLnVwZGF0ZUVzdGFkbyhyZXNlcnZhSWQsIG51ZXZvRXN0YWRvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJFc3RhZG8gZGUgcmVzZXJ2YSBhY3R1YWxpemFkbzoiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgX3RoaXMyLmZldGNoUmVzZXJ2YXMoKTsgLy8gVm9sdmVyIGEgY2FyZ2FyIGxhcyByZXNlcnZhcyBhY3R1YWxpemFkYXMKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBhbCBhY3R1YWxpemFyIGVsIGVzdGFkbyBkZSByZXNlcnZhOiIsIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KCJERC9NTS9ZWVlZIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\ReservasPaseador.vue"],"names":[],"mappings":"AAmBE,OAAO,eAAP,MAA4B,4BAA5B;AACA,OAAO,KAAP,MAAkB,SAAlB;AACA,OAAO,MAAP,MAAmB,QAAnB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,kBADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE;AADL,KAAP;AAGD,GANY;AAOb,EAAA,OAPa,qBAOH;AACR,SAAK,aAAL;AACD,GATY;AAUb,EAAA,OAAO,EAAE;AACP,IAAA,aADO,2BACS;AAAA;;AACd,UAAM,UAAS,GAAI,KAAK,CAAC,OAAN,CAAc,WAAjC;AAEA,MAAA,eAAe,CAAC,uBAAhB,CAAwC,UAAxC,EACG,IADH,CACQ,UAAC,QAAD,EAAc;AAClB,QAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AACD,OAHH,EAIG,KAJH,CAIS,UAAC,KAAD,EAAW;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OANH;AAOD,KAXM;AAYP,IAAA,aAZO,yBAYO,SAZP,EAYkB,WAZlB,EAY+B;AAAA;;AACpC,MAAA,eAAe,CAAC,YAAhB,CAA6B,SAA7B,EAAwC,WAAxC,EACG,IADH,CACQ,UAAC,QAAD,EAAc;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,gCAAZ,EAA8C,QAAQ,CAAC,IAAvD;;AACA,QAAA,MAAI,CAAC,aAAL,GAFkB,CAEI;;AACvB,OAJH,EAKG,KALH,CAKS,UAAC,KAAD,EAAW;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,2CAAZ,EAAyD,KAAzD;AACD,OAPH;AAQD,KArBM;AAsBP,IAAA,UAtBO,sBAsBI,IAtBJ,EAsBU;AACf,aAAO,MAAM,CAAC,IAAD,CAAN,CAAa,MAAb,CAAoB,YAApB,CAAP;AACD;AAxBM;AAVI,CAAf","sourcesContent":["<template>\r\n    <div class=\"reservas-paseador\">\r\n      <h1>Reservas del Paseador</h1>\r\n      <ul>\r\n        <li v-for=\"reserva in reservas\" :key=\"reserva.id\" class=\"reserva-item\">\r\n          <p>Fecha: {{ formatDate(reserva.fecha) }}</p>\r\n          <p>Hora: {{ reserva.hora }}</p>\r\n          <p>Estado: {{ reserva.estado }}</p>\r\n          <p>Cliente: {{ reserva.Nombre }} {{ reserva.Apellido }}</p>\r\n          <p>Direcci√≥n: {{ reserva.Direccion }}</p>\r\n          <p>Perro: {{ reserva.Nombre_Perro }} Raza: {{ reserva.Nombre_Raza }}</p>\r\n          <button v-if=\"reserva.estado === 'Pendiente'\" @click=\"cambiarEstado(reserva.id, 'Completada')\">Marcar como Completada</button>\r\n          <button v-if=\"reserva.estado === 'Completada'\" @click=\"cambiarEstado(reserva.id, 'Pendiente')\">Marcar como Pendiente</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import ReservasService from \"@/services/ReservasService\";\r\n  import store from \"@/store\";\r\n  import moment from \"moment\";\r\n  \r\n  export default {\r\n    name: \"ReservasPaseador\",\r\n    data() {\r\n      return {\r\n        reservas: [],\r\n      };\r\n    },\r\n    mounted() {\r\n      this.fetchReservas();\r\n    },\r\n    methods: {\r\n      fetchReservas() {\r\n        const idPaseador = store.getters.getClientId;\r\n        \r\n        ReservasService.getReservasByPaseadorId(idPaseador)\r\n          .then((response) => {\r\n            this.reservas = response.data;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      },\r\n      cambiarEstado(reservaId, nuevoEstado) {\r\n        ReservasService.updateEstado(reservaId, nuevoEstado)\r\n          .then((response) => {\r\n            console.log(\"Estado de reserva actualizado:\", response.data);\r\n            this.fetchReservas(); // Volver a cargar las reservas actualizadas\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Error al actualizar el estado de reserva:\", error);\r\n          });\r\n      },\r\n      formatDate(date) {\r\n        return moment(date).format(\"DD/MM/YYYY\");\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .reservas-paseador {\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  h1 {\r\n    text-align: center;\r\n    font-size: 24px;\r\n  }\r\n  \r\n  ul {\r\n    list-style-type: none;\r\n    padding: 0;\r\n  }\r\n  \r\n  .reserva-item {\r\n    margin-bottom: 10px;\r\n    background-color: #f0f0f0;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n  }\r\n  \r\n  button {\r\n    margin-top: 5px;\r\n    padding: 5px 10px;\r\n    background-color: #007bff;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  </style>\r\n  "],"sourceRoot":""}]}