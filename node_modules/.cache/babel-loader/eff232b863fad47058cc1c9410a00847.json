{"remainingRequest":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\Cliente\\PaseadoresList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\Cliente\\PaseadoresList.vue","mtime":1690047977632},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1685918311258},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1685918306294}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBQYXNlYWRvcmVzU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1Bhc2VhZG9yZXNTZXJ2aWNlIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUvaW5kZXgiOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBOYXZDbGllbnRlIGZyb20gIkAvY29tcG9uZW50cy9OYXYvTmF2Q2xpZW50ZS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBhc2VhZG9yZXNMaXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBOYXZDbGllbnRlOiBOYXZDbGllbnRlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFzZWFkb3JlczogW10sCiAgICAgIG5vdGlmaWNhdGlvbjogbnVsbCwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIGRhdGU6IG51bGwsCiAgICAgIHRpbWU6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFBhc2VhZG9yZXMoKTsKICAgIHRoaXMuZmV0Y2hOb3RpZmljYXRpb24oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoUGFzZWFkb3JlczogZnVuY3Rpb24gZmV0Y2hQYXNlYWRvcmVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNsaWVudElkID0gc3RvcmUuZ2V0dGVycy5nZXRDbGllbnRJZDsKICAgICAgdmFyIHNlbGVjdGVkVGltZSA9IHN0b3JlLmdldHRlcnMuZ2V0U2VsZWN0ZWRUaW1lOwogICAgICB2YXIgc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoc3RvcmUuZ2V0dGVycy5nZXRTZWxlY3RlZERhdGUpOwogICAgICB2YXIgZGF5T2ZXZWVrID0gc2VsZWN0ZWREYXRlLmdldERheSgpOwogICAgICB2YXIgZGF5c09mV2Vla05hbWVzID0gWydkb21pbmdvJywgJ2x1bmVzJywgJ21hcnRlcycsICdtaWVyY29sZXMnLCAnanVldmVzJywgJ3ZpZXJuZXMnLCAnc2FiYWRvJ107CiAgICAgIHZhciBkaWFTZW1hbmEgPSBkYXlzT2ZXZWVrTmFtZXNbZGF5T2ZXZWVrXTsgLy8gRW52aWFyIGxvcyBkYXRvcyBkZSBmZWNoYSB5IGhvcmEgZW4gbGEgVVJMIGRlIGxhIHNvbGljaXR1ZCBHRVQKCiAgICAgIHZhciBmZWNoYSA9IG1vbWVudChzdG9yZS5nZXR0ZXJzLmdldFNlbGVjdGVkRGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7IC8vIENvbnZlcnRpciBmZWNoYSBhIGZvcm1hdG8gSVNPIChZWVlZLU1NLUREKQoKICAgICAgdmFyIGhvcmFJbmljaWFsID0gc2VsZWN0ZWRUaW1lLnNwbGl0KCcgLSAnKVswXTsgLy8gU2FsaWRhOiAnNzowMCcKICAgICAgLy8gQWdyZWdhciBsb3MgZGF0b3MgZGUgZmVjaGEgeSBob3JhIGEgbGEgVVJMIGRlIGxhIHNvbGljaXR1ZCBHRVQKCiAgICAgIFBhc2VhZG9yZXNTZXJ2aWNlLmdldEJ5QmFycmlvKGNsaWVudElkLCB7CiAgICAgICAgZGlhX3NlbWFuYTogZGlhU2VtYW5hLAogICAgICAgIGZlY2hhOiBmZWNoYSwKICAgICAgICBob3JhOiBob3JhSW5pY2lhbAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnBhc2VhZG9yZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzLmRhdGUgPSBtb21lbnQoc3RvcmUuZ2V0dGVycy5nZXRTZWxlY3RlZERhdGUpLmZvcm1hdCgnREQvTU0vWVlZWScpOwogICAgICAgIF90aGlzLnRpbWUgPSBzdG9yZS5nZXR0ZXJzLmdldFNlbGVjdGVkVGltZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBmZXRjaE5vdGlmaWNhdGlvbjogZnVuY3Rpb24gZmV0Y2hOb3RpZmljYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBzdG9yZS5zdGF0ZS5ub3RpZmljYXRpb247CiAgICAgIHRoaXMubWVzc2FnZSA9IHN0b3JlLnN0YXRlLm1lc3NhZ2U7IC8vIExpbXBpYXIgbGEgbm90aWZpY2FjacOzbiBkZXNwdcOpcyBkZSBtb3N0cmFybGEKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5ub3RpZmljYXRpb24gPSBudWxsOwogICAgICAgIF90aGlzMi5tZXNzYWdlID0gbnVsbDsKICAgICAgICBzdG9yZS5jb21taXQoJ3NldE5vdGlmaWNhdGlvbicsIG51bGwpOwogICAgICAgIHN0b3JlLmNvbW1pdCgnc2V0TWVzc2FnZScsIG51bGwpOwogICAgICB9LCA1MDAwKTsgLy8gNSBzZWd1bmRvcyBlbiBtaWxpc2VndW5kb3MKICAgIH0sCiAgICBnZXRJbWFnZVVybDogZnVuY3Rpb24gZ2V0SW1hZ2VVcmwoZmlsZW5hbWUpIHsKICAgICAgaWYgKGZpbGVuYW1lKSB7CiAgICAgICAgdmFyIGltYWdlUGF0aCA9IGZpbGVuYW1lLnJlcGxhY2UoJ3Z1ZScsICcnKS5yZXBsYWNlKCdwdWJsaWMnLCAnJyk7CiAgICAgICAgdmFyIGJhc2VVcmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOwogICAgICAgIHJldHVybiAiIi5jb25jYXQoYmFzZVVybCwgIi8iKS5jb25jYXQoaW1hZ2VQYXRoKTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5vdGlmaWNhdGlvbkNsYXNzOiBmdW5jdGlvbiBub3RpZmljYXRpb25DbGFzcygpIHsKICAgICAgLy8gQWdyZWdhIGxhcyBjbGFzZXMgQ1NTIHNlZ8O6biBlbCB0aXBvIGRlIG5vdGlmaWNhY2nDs24KICAgICAgcmV0dXJuIHsKICAgICAgICAnbm90aWZpY2F0aW9uLXN1Y2Nlc3MnOiB0aGlzLm5vdGlmaWNhdGlvbiA9PT0gJ3N1Y2Nlc3MnLAogICAgICAgICdub3RpZmljYXRpb24tZXJyb3InOiB0aGlzLm5vdGlmaWNhdGlvbiA9PT0gJ2Vycm9yJwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\Cliente\\PaseadoresList.vue"],"names":[],"mappings":";;;;AA2BE,OAAO,iBAAP,MAA8B,8BAA9B;AACA,OAAO,KAAP,MAAkB,eAAlB;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,OAAO,UAAP,MAAuB,iCAAvB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,gBADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV;AADU,GAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,UAAU,EAAE,EADP;AAEL,MAAA,YAAY,EAAE,IAFT;AAGL,MAAA,OAAO,EAAE,EAHJ;AAIL,MAAA,IAAI,EAAE,IAJD;AAKL,MAAA,IAAI,EAAE;AALD,KAAP;AAOD,GAbY;AAcb,EAAA,OAda,qBAcH;AACR,SAAK,eAAL;AACA,SAAK,iBAAL;AACD,GAjBY;AAkBb,EAAA,OAAO,EAAE;AACP,IAAA,eADO,6BACW;AAAA;;AAChB,UAAM,QAAO,GAAI,KAAK,CAAC,OAAN,CAAc,WAA/B;AACA,UAAM,YAAW,GAAI,KAAK,CAAC,OAAN,CAAc,eAAnC;AACA,UAAM,YAAW,GAAI,IAAI,IAAJ,CAAS,KAAK,CAAC,OAAN,CAAc,eAAvB,CAArB;AACA,UAAM,SAAQ,GAAI,YAAY,CAAC,MAAb,EAAlB;AACA,UAAM,eAAc,GAAI,CAAC,SAAD,EAAY,OAAZ,EAAqB,QAArB,EAA+B,WAA/B,EAA4C,QAA5C,EAAsD,SAAtD,EAAiE,QAAjE,CAAxB;AACA,UAAM,SAAQ,GAAI,eAAe,CAAC,SAAD,CAAjC,CANgB,CAQhB;;AACA,UAAM,KAAI,GAAI,MAAM,CAAC,KAAK,CAAC,OAAN,CAAc,eAAf,CAAN,CAAsC,MAAtC,CACd,YADc,CAAd,CATgB,CAUD;;AAEf,UAAM,WAAU,GAAI,YAAY,CAAC,KAAb,CAAmB,KAAnB,EAA0B,CAA1B,CAApB,CAZgB,CAahB;AAEA;;AACA,MAAA,iBAAiB,CAAC,WAAlB,CAA8B,QAA9B,EAAwC;AACpC,QAAA,UAAU,EAAE,SADwB;AAEpC,QAAA,KAAK,EAAE,KAF6B;AAGpC,QAAA,IAAI,EAAE;AAH8B,OAAxC,EAKG,IALH,CAKQ,UAAC,QAAD,EAAc;AAClB,QAAA,KAAI,CAAC,UAAL,GAAkB,QAAQ,CAAC,IAA3B;AACA,QAAA,KAAI,CAAC,IAAL,GAAY,MAAM,CAAC,KAAK,CAAC,OAAN,CAAc,eAAf,CAAN,CAAsC,MAAtC,CAA6C,YAA7C,CAAZ;AACA,QAAA,KAAI,CAAC,IAAL,GAAY,KAAK,CAAC,OAAN,CAAc,eAA1B;AACD,OATH,EAUG,KAVH,CAUS,UAAC,KAAD,EAAW;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OAZH;AAaD,KA9BM;AA+BP,IAAA,iBA/BO,+BA+Ba;AAAA;;AAClB,WAAK,YAAL,GAAoB,KAAK,CAAC,KAAN,CAAY,YAAhC;AACA,WAAK,OAAL,GAAe,KAAK,CAAC,KAAN,CAAY,OAA3B,CAFkB,CAGlB;;AACA,MAAA,UAAU,CAAC,YAAM;AACf,QAAA,MAAI,CAAC,YAAL,GAAoB,IAApB;AACA,QAAA,MAAI,CAAC,OAAL,GAAe,IAAf;AACA,QAAA,KAAK,CAAC,MAAN,CAAa,iBAAb,EAAgC,IAAhC;AACA,QAAA,KAAK,CAAC,MAAN,CAAa,YAAb,EAA2B,IAA3B;AACD,OALS,EAKP,IALO,CAAV,CAJkB,CASR;AACX,KAzCM;AA0CP,IAAA,WA1CO,uBA0CK,QA1CL,EA0Ce;AACpB,UAAI,QAAJ,EAAc;AACZ,YAAM,SAAQ,GAAI,QAAQ,CAAC,OAAT,CAAiB,KAAjB,EAAwB,EAAxB,EAA4B,OAA5B,CAAoC,QAApC,EAA8C,EAA9C,CAAlB;AACA,YAAM,OAAM,GAAI,MAAM,CAAC,QAAP,CAAgB,MAAhC;AACA,yBAAU,OAAV,cAAqB,SAArB;AACF;AACD;AAhDM,GAlBI;AAoEb,EAAA,QAAQ,EAAE;AACR,IAAA,iBADQ,+BACY;AAClB;AACA,aAAO;AACL,gCAAwB,KAAK,YAAL,KAAsB,SADzC;AAEL,8BAAsB,KAAK,YAAL,KAAsB;AAFvC,OAAP;AAID;AAPO;AApEG,CAAf","sourcesContent":["<template>\r\n  <NavCliente />\r\n  <div class=\"general\">\r\n    <h1>Paseadores disponibles</h1>\r\n    <!-- Agregar la notificación aquí -->\r\n    <div v-if=\"notification\" class=\"notification\" :class=\"notificationClass\">\r\n      {{ message }}\r\n    </div>\r\n    <p>Fecha seleccionada: {{ date }}</p>\r\n    <p>Rango horario seleccionado: {{ time }}</p>\r\n    <div class=\"paseadores-grid\">\r\n\r\n      <div class=\"paseador-item\" v-for=\"paseador in paseadores\" :key=\"paseador.id+paseador.nombre\">\r\n        <img :src=\"getImageUrl(paseador.foto_perfil || '/uploads/default-profile.png')\"\r\n          :alt=\"paseador.nombre + ' ' + paseador.apellido\">\r\n        <router-link :to=\"'/paseador/' + paseador.id\">\r\n          <p>{{ paseador.nombre }} {{ paseador.apellido }}</p>\r\n        </router-link>\r\n        <router-link :to=\"'/paseador/' + paseador.id\">\r\n          <button class=\"ver-datos\">Ver datos</button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import PaseadoresService from \"@/services/PaseadoresService\";\r\n  import store from \"@/store/index\";\r\n  import moment from 'moment';\r\n  import NavCliente from \"@/components/Nav/NavCliente.vue\";\r\n\r\n  export default {\r\n    name: \"PaseadoresList\",\r\n    components: {\r\n      NavCliente,\r\n    },\r\n    data() {\r\n      return {\r\n        paseadores: [],\r\n        notification: null,\r\n        message: \"\",\r\n        date: null,\r\n        time: null\r\n      };\r\n    },\r\n    mounted() {\r\n      this.fetchPaseadores();\r\n      this.fetchNotification();\r\n    },\r\n    methods: {\r\n      fetchPaseadores() {\r\n        const clientId = store.getters.getClientId;\r\n        const selectedTime = store.getters.getSelectedTime;\r\n        const selectedDate = new Date(store.getters.getSelectedDate);\r\n        const dayOfWeek = selectedDate.getDay();\r\n        const daysOfWeekNames = ['domingo', 'lunes', 'martes', 'miercoles', 'jueves', 'viernes', 'sabado'];\r\n        const diaSemana = daysOfWeekNames[dayOfWeek];\r\n\r\n        // Enviar los datos de fecha y hora en la URL de la solicitud GET\r\n        const fecha = moment(store.getters.getSelectedDate).format(\r\n        'YYYY-MM-DD'); // Convertir fecha a formato ISO (YYYY-MM-DD)\r\n\r\n        const horaInicial = selectedTime.split(' - ')[0];\r\n        // Salida: '7:00'\r\n\r\n        // Agregar los datos de fecha y hora a la URL de la solicitud GET\r\n        PaseadoresService.getByBarrio(clientId, {\r\n            dia_semana: diaSemana,\r\n            fecha: fecha,\r\n            hora: horaInicial\r\n          })\r\n          .then((response) => {\r\n            this.paseadores = response.data;\r\n            this.date = moment(store.getters.getSelectedDate).format('DD/MM/YYYY');\r\n            this.time = store.getters.getSelectedTime;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      },\r\n      fetchNotification() {\r\n        this.notification = store.state.notification;\r\n        this.message = store.state.message;\r\n        // Limpiar la notificación después de mostrarla\r\n        setTimeout(() => {\r\n          this.notification = null;\r\n          this.message = null;\r\n          store.commit('setNotification', null);\r\n          store.commit('setMessage', null);\r\n        }, 5000); // 5 segundos en milisegundos\r\n      },\r\n      getImageUrl(filename) {\r\n        if (filename) {\r\n          const imagePath = filename.replace('vue', '').replace('public', '');\r\n          const baseUrl = window.location.origin;\r\n          return `${baseUrl}/${imagePath}`;\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n      notificationClass() {\r\n        // Agrega las clases CSS según el tipo de notificación\r\n        return {\r\n          'notification-success': this.notification === 'success',\r\n          'notification-error': this.notification === 'error',\r\n        };\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .general {\r\n    min-height: 60vh;\r\n    margin: 0 auto;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    margin-top: 15px;\r\n    padding-bottom: 40px;\r\n  }\r\n\r\n  h1 {\r\n    text-align: center;\r\n    font-size: 24px;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  .paseadores-grid {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .paseadores-grid img {\r\n    width: 60px;\r\n    border-radius: 100px;\r\n  }\r\n\r\n  .paseador-item {\r\n    width: calc(50% - 10px);\r\n    margin-bottom: 10px;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n    border: 3px solid #8DBD47;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n\r\n  .paseador-item p {\r\n    margin-top: 10px;\r\n    color: #000;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .ver-datos {\r\n    border-radius: 5px;\r\n    border: 1px solid #8DBD47;\r\n    background-color: #8DBD47;\r\n    font-size: 14px;\r\n    padding: 3px 15px;\r\n  }\r\n\r\n  .notification {\r\n    margin-bottom: 10px;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .notification-success {\r\n    background-color: #dff0d8;\r\n    color: #3c763d;\r\n  }\r\n\r\n  .notification-error {\r\n    background-color: #f2dede;\r\n    color: #a94442;\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}