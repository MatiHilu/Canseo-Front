{"remainingRequest":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\Cliente\\PerfilCliente.vue?vue&type=template&id=2470fa99&scoped=true","dependencies":[{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\Cliente\\PerfilCliente.vue","mtime":1690048040755},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1685918311258},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1685918311010},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1685918306294}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTI0NzBmYTk5IiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImdlbmVyYWwiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDEiLCBudWxsLCAiTWkgcGVyZmlsIiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImltZy11c3VhcmlvIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IFsic3JjIl07Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgbnVsbCwgIkVkaXRhciBwZXJmaWwiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCBudWxsLCAiQ2FtYmlhciBjb250cmFzZcOxYSIsIC0xCiAgLyogSE9JU1RFRCAqLwogICk7Cn0pOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9OYXZDbGllbnRlID0gX3Jlc29sdmVDb21wb25lbnQoIk5hdkNsaWVudGUiKTsKCiAgdmFyIF9jb21wb25lbnRfcm91dGVyX2xpbmsgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLWxpbmsiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9OYXZDbGllbnRlKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgWyRvcHRpb25zLm5vdGlmaWNhdGlvbiA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgIGtleTogMCwKICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJub3RpZmljYXRpb24iLCAkb3B0aW9ucy5ub3RpZmljYXRpb25DbGFzc10pCiAgfSwgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy5tZXNzYWdlKSwgMwogIC8qIFRFWFQsIENMQVNTICovCiAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9ob2lzdGVkXzIsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsICJOb21icmU6ICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmNsaWVudGUubm9tYnJlKSArICIgIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuY2xpZW50ZS5hcGVsbGlkbyksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW1nIiwgewogICAgY2xhc3M6ICJpbWctcGVyZmlsIiwKICAgIHNyYzogJG9wdGlvbnMuZ2V0SW1hZ2VVcmwoJGRhdGEuY2xpZW50ZS5mb3RvX3BlcmZpbCB8fCAnL3VwbG9hZHMvZGVmYXVsdC1wcm9maWxlLnBuZycpLAogICAgYWx0OiAiRm90byBkZSBwZXJmaWwiCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBfaG9pc3RlZF80KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgbnVsbCwgIkVtYWlsOiAiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5jbGllbnRlLmVtYWlsKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgbnVsbCwgIlRlbMOpZm9ubzogIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuY2xpZW50ZS50ZWxlZm9ubyksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsICJEaXJlY2Npw7NuOiAiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5jbGllbnRlLmRpcmVjY2lvbikgKyAiLCAiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5jbGllbnRlLm5vbWJyZV9iYXJyaW8pLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBudWxsLCAiTWkgcGVycm86ICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmNsaWVudGUubm9tYnJlX3BlcnJvKSArICIsICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmNsaWVudGUubm9tYnJlX3JhemEpLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIHRvOiAnL2VkaXRhci1jbGllbnRlLycKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfNV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIGNsYXNzOiAiY2FtYmlhci1jb250cmFzZW5hIiwKICAgIHRvOiAnL2NhbWJpYXItY29udHJhc2VuYS9jbGllbnRlJwogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF82XTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\Cliente\\PerfilCliente.vue"],"names":[],"mappings":";;;;;;;AAEO,EAAA,KAAK,EAAC;;;;sBAIP,mBAAA,CAAkB,IAAlB,EAAkB,IAAlB,EAAI,WAAJ,EAAa,CAAA;AAAA;AAAb,G;;;;AAEO,EAAA,KAAK,EAAC;;;;;sBAWb,mBAAA,CAA8B,QAA9B,EAA8B,IAA9B,EAAQ,eAAR,EAAqB,CAAA;AAAA;AAArB,G;;;;sBAGA,mBAAA,CAAmC,QAAnC,EAAmC,IAAnC,EAAQ,oBAAR,EAA0B,CAAA;AAAA;AAA1B,G;;;;;;;;6DArBJ,YAAA,CAAa,qBAAb,C,EACA,mBAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBS,QAAA,CAAA,Y,kBAAX,mBAAA,CAEI,KAFJ,EAEI;UAAA;AAFqB,IAAA,KAAK,EAAA,eAAA,CAAA,CAAC,cAAD,EAAwB,QAAA,CAAA,iBAAxB,CAAA;AAE1B,GAFJ,E,iBACG,QAAA,CAAA,O,CADH,EACU;AAAA;AADV,G,qCAqBE,EAlBF,UAkBE,EAjBF,mBAAA,CASM,KATN,EASM,IATN,EASM,CARJ,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,mBAAA,CAA0D,GAA1D,EAA0D,IAA1D,EAAG,aAAQ,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,MAAX,CAAR,GAA4B,GAA5B,GAA6B,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,QAAX,CAAhC,EAAmD;AAAA;AAAnD,GAEI,EADJ,mBAAA,CAAyH,KAAzH,EAAyH;AAApH,IAAA,KAAK,EAAC,YAA8G;AAAhG,IAAA,GAAG,EAAE,QAAA,CAAA,WAAA,CAAY,KAAA,CAAA,OAAA,CAAQ,WAAR,IAAmB,8BAA/B,CAA2F;AAAvB,IAAA,GAAG,EAAC;AAAmB,GAAzH,E,IAAA,E;;AAAA,I,UAAA,CACI,CAHN,CAQI,EAJJ,mBAAA,CAAiC,GAAjC,EAAiC,IAAjC,EAAG,YAAO,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,KAAX,CAAV,EAA0B;AAAA;AAA1B,GAII,EAHJ,mBAAA,CAAuC,GAAvC,EAAuC,IAAvC,EAAG,eAAU,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,QAAX,CAAb,EAAgC;AAAA;AAAhC,GAGI,EAFJ,mBAAA,CAAsE,GAAtE,EAAsE,IAAtE,EAAG,gBAAW,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,SAAX,CAAX,GAAkC,IAAlC,GAAoC,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,aAAX,CAAvC,EAA+D;AAAA;AAA/D,GAEI,EADJ,mBAAA,CAAqE,GAArE,EAAqE,IAArE,EAAG,eAAU,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,YAAX,CAAV,GAAoC,IAApC,GAAsC,gBAAA,CAAG,KAAA,CAAA,OAAA,CAAQ,WAAX,CAAzC,EAA+D;AAAA;AAA/D,GACI,CATN,CAiBE,EANJ,YAAA,CAEc,sBAFd,EAEc;AAFC,IAAA,EAAE,EAAE;AAEL,GAFd,EAAqC;sBACnC;AAAA,aAA8B,CAA9B,UAA8B,CAA9B;AAAA,K,CADmC;;;;AAAA,GAArC,CAMI,EAHJ,YAAA,CAEc,sBAFd,EAEc;AAFD,IAAA,KAAK,EAAC,oBAEL;AAF4B,IAAA,EAAE,EAAE;AAEhC,GAFd,E;sBACE;AAAA,aAAmC,CAAnC,UAAmC,CAAnC;AAAA,K;;;;GADF,CAGI,CAtBN,C","sourcesContent":["<template>\r\n  <NavCliente/>\r\n  <div class=\"general\">\r\n      <div v-if=\"notification\" class=\"notification\" :class=\"notificationClass\">\r\n      {{ message }}\r\n    </div>\r\n      <h1>Mi perfil</h1>\r\n      <div>\r\n        <div class=\"img-usuario\">\r\n          <p>Nombre: {{ cliente.nombre }} {{ cliente.apellido }}</p>\r\n          <img class=\"img-perfil\" :src=\"getImageUrl(cliente.foto_perfil || '/uploads/default-profile.png')\" alt=\"Foto de perfil\" />\r\n        </div>\r\n        <p>Email: {{ cliente.email }}</p>\r\n        <p>Teléfono: {{ cliente.telefono }}</p>\r\n        <p>Dirección: {{ cliente.direccion }}, {{ cliente.nombre_barrio }}</p>\r\n        <p>Mi perro: {{ cliente.nombre_perro }}, {{ cliente.nombre_raza}}</p>\r\n      </div>\r\n    \r\n    <router-link  :to=\"'/editar-cliente/'\">\r\n      <button>Editar perfil</button>\r\n    </router-link>\r\n    <router-link class=\"cambiar-contrasena\"  :to=\"'/cambiar-contrasena/cliente'\">\r\n      <button>Cambiar contraseña</button>\r\n    </router-link>\r\n  </div>  \r\n</template>\r\n  \r\n  \r\n  <script>\r\n  import ClienteService from \"@/services/ClientesService\";\r\n  import BarriosService from \"@/services/BarriosService\";\r\n  import store from \"@/store\";\r\n  import NavCliente from \"@/components/Nav/NavCliente.vue\";\r\n  \r\n  export default {\r\n    name: \"PerfilCliente\",\r\n    components: {\r\n      NavCliente\r\n    },\r\n    data() {\r\n      return {\r\n        cliente: {},\r\n        showForm: false,\r\n        updatedClienteData: {},\r\n        barrios: [],\r\n        showPasswordForm: false,\r\n        changePassword: false,\r\n        cancelPasswordChange: false,\r\n        \r\n      };\r\n    },\r\n    mounted() {\r\n      const clienteId = store.getters.getClientId;\r\n      this.fetchCliente(clienteId);\r\n      this.fetchBarrios();\r\n    },\r\n    computed: {\r\n    notification() {\r\n      return store.getters.getNotification;\r\n    },\r\n    message() {\r\n      return store.getters.getMessage;\r\n    },\r\n    notificationClass() {\r\n      return {\r\n        error: this.notification === \"error\",\r\n        success: this.notification === \"success\"\r\n      };\r\n    }\r\n  },\r\n    methods: {\r\n      fetchCliente(clienteId) {\r\n        ClienteService.get(clienteId)\r\n          .then((response) => {\r\n            this.cliente = response.data;\r\n            this.updatedClienteData = { ...this.cliente };\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Error al obtener el perfil del cliente: \", error);\r\n          });\r\n      },\r\n      fetchBarrios() {\r\n        BarriosService.getAll()\r\n          .then((response) => {\r\n            this.barrios = response.data;\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Error al obtener la lista de barrios: \", error);\r\n          });\r\n      },\r\n      showEditForm() {\r\n        this.showForm = true;\r\n      },\r\n      updateProfile() {\r\n        const clienteId = store.getters.getClientId;\r\n        ClienteService.update(clienteId, this.updatedClienteData)\r\n          .then(() => {\r\n            const barrioId = this.updatedClienteData.id_barrio;\r\n            const barrio = this.barrios.find((b) => b.id === barrioId);\r\n            this.cliente.nombre_barrio = barrio ? barrio.nombre : '';\r\n  \r\n            this.showForm = false;\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Error al actualizar el perfil del cliente: \", error);\r\n          });\r\n      },\r\n      cancelEdit() {\r\n        this.showForm = false;\r\n      },\r\n      togglePasswordForm() {\r\n        this.showPasswordForm = !this.showPasswordForm;\r\n      },\r\n      cancelPasswordForm() {\r\n        this.showPasswordForm = false;\r\n      },\r\n      getImageUrl(filename) {\r\n    if (filename) {\r\n      \r\n      const imagePath = filename.replace('vue', '').replace('public', '');\r\n      const baseUrl = window.location.origin;\r\n      \r\n      return `${baseUrl}/${imagePath}`;\r\n    }\r\n  }\r\n  \r\n  \r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n.general{\r\n  min-height: 60vh;  \r\n  margin: 0 auto;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  margin-top: 15px;\r\n  padding-bottom: 40px;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  font-size: 24px;\r\n  margin-bottom: 15px;\r\n}\r\n  \r\n  .form-group {\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  label {\r\n    display: block;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  input,\r\n  textarea,\r\n  select {\r\n    width: 100%;\r\n    padding: 5px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 3px;\r\n  }\r\n  \r\n  button {\r\n  border-radius: 5px;\r\n  border: 1px solid #8DBD47;\r\n  background-color: #8DBD47;\r\n  font-size: 16px;\r\n  padding: 4px 8px;\r\n  cursor: pointer;\r\n  align-self: center;\r\n  margin-bottom: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n\r\n  .img-usuario{\r\n  display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-bottom: -45px;\r\n}\r\n\r\n.img-perfil{\r\n  width: 120px;\r\n  border-radius: 100px;\r\n}\r\n\r\n.notification {\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n\r\n}\r\n\r\n.error {\r\n  background-color: #f2dede;\r\n  color: #a94442;\r\n}\r\n\r\n.success {\r\n  background-color: #dff0d8;\r\n  color: #3c763d;\r\n}\r\n\r\n.cambiar-contrasena{\r\n  margin-left: 15px;\r\n}\r\n  </style>\r\n  "],"sourceRoot":""}]}