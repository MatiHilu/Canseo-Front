{"remainingRequest":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\AddReserva.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\AddReserva.vue","mtime":1686694866725},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1685918311258},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685918310071},{"path":"C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1685918306294}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGZsYXRwaWNrciBmcm9tICdmbGF0cGlja3InOwppbXBvcnQgJ2ZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5jc3MnOwppbXBvcnQgUmVzZXJ2YXNTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvUmVzZXJ2YXNTZXJ2aWNlIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUvaW5kZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZFJlc2VydmEiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmZWNoYTogIiIsCiAgICAgIGhvcmE6ICIiLAogICAgICBlcnJvck1lc3NhZ2U6ICIiLAogICAgICBlcnJvcjogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coImNsaWVudElkOiIsIHN0b3JlLmdldHRlcnMuZ2V0Q2xpZW50SWQpLCBmbGF0cGlja3IoJyNmZWNoYScsIHsKICAgICAgbWluRGF0ZTogJ3RvZGF5JywKICAgICAgbWF4RGF0ZTogbmV3IERhdGUoKS5mcF9pbmNyKDMwKQogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgYXZhaWxhYmxlSG91cnM6IGZ1bmN0aW9uIGF2YWlsYWJsZUhvdXJzKCkgewogICAgICB2YXIgaG91cnMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSA3OyBpIDw9IDIwOyBpKyspIHsKICAgICAgICBob3Vycy5wdXNoKCIiLmNvbmNhdChpLCAiOjAwIikpOwogICAgICB9CgogICAgICByZXR1cm4gaG91cnM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhclJlc2VydmE6IGZ1bmN0aW9uIGNyZWFyUmVzZXJ2YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy52YWxpZGF0ZVJlc2VydmF0aW9uKCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBudWV2YVJlc2VydmEgPSB7CiAgICAgICAgaWRfcGFzZWFkb3I6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICBpZF9jbGllbnRlOiBzdG9yZS5nZXR0ZXJzLmdldENsaWVudElkLAogICAgICAgIGZlY2hhOiB0aGlzLmZlY2hhLAogICAgICAgIGhvcmE6IHRoaXMuaG9yYQogICAgICB9OwogICAgICBSZXNlcnZhc1NlcnZpY2UuY3JlYXRlKG51ZXZhUmVzZXJ2YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZygiUmVzZXJ2YSBjcmVhZGEgZXhpdG9zYW1lbnRlOiAiLCByZXNwb25zZS5kYXRhKTsgLy8gUmVhbGl6YXIgYWNjaW9uZXMgYWRpY2lvbmFsZXMgZGVzcHXDqXMgZGUgY3JlYXIgdW5hIHJlc2VydmEgKHJlZGlyZWNjaW9uYXIsIG1vc3RyYXIgbWVuc2FqZSwgZXRjLikKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvcmVzZXJ2YXMtY2xpZW50ZSIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgYWwgY3JlYXIgbGEgcmVzZXJ2YTogIiwgZXJyb3IpOwogICAgICAgIF90aGlzLmVycm9yID0gIkVycm9yIGFsIGNyZWFyIGxhIHJlc2VydmEuIjsKICAgICAgfSk7CiAgICB9LAogICAgdmFsaWRhdGVSZXNlcnZhdGlvbjogZnVuY3Rpb24gdmFsaWRhdGVSZXNlcnZhdGlvbigpIHsKICAgICAgaWYgKCF0aGlzLmhvcmEpIHsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICJQb3IgZmF2b3IsIHNlbGVjY2lvbmUgdW5hIGhvcmEuIjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gIiI7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\matih\\Desktop\\CANSEO V3\\vue\\src\\components\\AddReserva.vue"],"names":[],"mappings":"AAsBA,OAAO,SAAP,MAAsB,WAAtB;AACA,OAAO,8BAAP;AAEA,OAAO,eAAP,MAA4B,4BAA5B;AACA,OAAO,KAAP,MAAkB,eAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,YADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,IAAI,EAAE,EAFD;AAGL,MAAA,YAAY,EAAE,EAHT;AAIL,MAAA,KAAK,EAAE;AAJF,KAAP;AAMD,GATY;AAUb,EAAA,OAVa,qBAUH;AACR,IAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,KAAK,CAAC,OAAN,CAAc,WAAvC,GACA,SAAS,CAAC,QAAD,EAAW;AAClB,MAAA,OAAO,EAAE,OADS;AAElB,MAAA,OAAO,EAAE,IAAI,IAAJ,GAAW,OAAX,CAAmB,EAAnB;AAFS,KAAX,CADT;AAKD,GAhBY;AAiBb,EAAA,QAAQ,EAAE;AACR,IAAA,cADQ,4BACS;AACf,UAAM,KAAI,GAAI,EAAd;;AACA,WAAK,IAAI,CAAA,GAAI,CAAb,EAAgB,CAAA,IAAK,EAArB,EAAyB,CAAC,EAA1B,EAA8B;AAC5B,QAAA,KAAK,CAAC,IAAN,WAAc,CAAd;AACF;;AACA,aAAO,KAAP;AACD;AAPO,GAjBG;AA0Bb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AAAA;;AACb,UAAI,CAAC,KAAK,mBAAL,EAAL,EAAiC;AAC/B;AACF;;AAEA,UAAM,YAAW,GAAI;AACnB,QAAA,WAAW,EAAE,KAAK,MAAL,CAAY,MAAZ,CAAmB,EADb;AAEnB,QAAA,UAAU,EAAE,KAAK,CAAC,OAAN,CAAc,WAFP;AAGnB,QAAA,KAAK,EAAE,KAAK,KAHO;AAInB,QAAA,IAAI,EAAE,KAAK;AAJQ,OAArB;AAOA,MAAA,eAAe,CAAC,MAAhB,CAAuB,YAAvB,EACG,IADH,CACQ,UAAC,QAAD,EAAc;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,+BAAZ,EAA6C,QAAQ,CAAC,IAAtD,EADkB,CAElB;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,mBAAlB;AACD,OALH,EAMG,KANH,CAMS,UAAC,KAAD,EAAW;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,6BAAZ,EAA2C,KAA3C;AACA,QAAA,KAAI,CAAC,KAAL,GAAa,4BAAb;AACD,OATH;AAUD,KAvBM;AAwBP,IAAA,mBAxBO,iCAwBe;AACpB,UAAI,CAAC,KAAK,IAAV,EAAgB;AACd,aAAK,YAAL,GAAoB,iCAApB;AACA,eAAO,KAAP;AACF;;AAEA,WAAK,YAAL,GAAoB,EAApB;AACA,aAAO,IAAP;AACD;AAhCM;AA1BI,CAAf","sourcesContent":["<template>\r\n  <div class=\"add-reserva\" style=\"justify-content: center;\">\r\n    <h1>Crear Reserva</h1>\r\n    <form @submit.prevent=\"crearReserva\">\r\n      <div class=\"form-group\">\r\n        <label for=\"fecha\">Fecha:</label>\r\n        <input type=\"text\" id=\"fecha\" v-model=\"fecha\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"hora\">Hora:</label>\r\n        <select id=\"hora\" v-model=\"hora\" required>\r\n          <option value=\"\">Seleccione una hora</option>\r\n          <option v-for=\"hour in availableHours\" :key=\"hour\" :value=\"hour\">{{ hour }}</option>\r\n        </select>\r\n      </div>\r\n      <button style=\"background: black !important;\" type=\"submit\">Crear Reserva</button>\r\n      <p v-if=\"errorMessage || error\" class=\"error-message\">{{ errorMessage || error }}</p>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport flatpickr from 'flatpickr';\r\nimport 'flatpickr/dist/flatpickr.css';\r\n\r\nimport ReservasService from \"@/services/ReservasService\";\r\nimport store from \"@/store/index\";\r\n\r\nexport default {\r\n  name: \"AddReserva\",\r\n  data() {\r\n    return {\r\n      fecha: \"\",\r\n      hora: \"\",\r\n      errorMessage: \"\",\r\n      error: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    console.log(\"clientId:\", store.getters.getClientId),\r\n    flatpickr('#fecha', {\r\n      minDate: 'today',\r\n      maxDate: new Date().fp_incr(30),\r\n    });\r\n  },\r\n  computed: {\r\n    availableHours() {\r\n      const hours = [];\r\n      for (let i = 7; i <= 20; i++) {\r\n        hours.push(`${i}:00`);\r\n      }\r\n      return hours;\r\n    },\r\n  },\r\n  methods: {\r\n    crearReserva() {\r\n      if (!this.validateReservation()) {\r\n        return;\r\n      }\r\n\r\n      const nuevaReserva = {\r\n        id_paseador: this.$route.params.id,\r\n        id_cliente: store.getters.getClientId,\r\n        fecha: this.fecha,\r\n        hora: this.hora,\r\n      };\r\n\r\n      ReservasService.create(nuevaReserva)\r\n        .then((response) => {\r\n          console.log(\"Reserva creada exitosamente: \", response.data);\r\n          // Realizar acciones adicionales despuÃ©s de crear una reserva (redireccionar, mostrar mensaje, etc.)\r\n          this.$router.push(\"/reservas-cliente\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error al crear la reserva: \", error);\r\n          this.error = \"Error al crear la reserva.\";\r\n        });\r\n    },\r\n    validateReservation() {\r\n      if (!this.hora) {\r\n        this.errorMessage = \"Por favor, seleccione una hora.\";\r\n        return false;\r\n      }\r\n\r\n      this.errorMessage = \"\";\r\n      return true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.add-reserva {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  font-size: 24px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 10px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  font-weight: bold;\r\n}\r\n\r\nselect,\r\ninput[type=\"text\"] {\r\n  width: 100%;\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 3px;\r\n}\r\n\r\nbutton {\r\n  padding: 8px 12px;\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}